{"version":3,"sources":["assets\\Scripts\\PlatformSpawner.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA6C,mCAAY;IAAzD;QAAA,qEAwCC;QAtCG,oBAAc,GAAc,IAAI,CAAC;QAGjC,cAAQ,GAAW,EAAE,CAAC;QAGtB,cAAQ,GAAW,GAAG,CAAC;QAGvB,gBAAU,GAAW,GAAG,CAAC;QAGzB,gBAAU,GAAW,GAAG,CAAC;QAGzB,wBAAkB,GAAW,GAAG,CAAC,CAAC,wCAAwC;;IAuB9E,CAAC;IArBU,uCAAa,GAApB,UAAqB,wBAAkC;QACnD,IAAM,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACxD,IAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtF,WAAW,CAAC,KAAK,GAAG,aAAa,CAAC;QAElC,IAAI,wBAAwB,EAAE;YAC1B,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,wBAAwB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,mBAAmB;SACxF;aAAM;YACH,0DAA0D;YACzD,IAAM,YAAY,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,8CAA8C;YAC3G,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,iCAAiC;YAEtF,iCAAiC;YACjC,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC;iBAChB,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC;iBAC5F,KAAK,EAAE,CAAC;SAChB;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAChC,OAAO,WAAW,CAAC;IACvB,CAAC;IArCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;2DACa;IAGjC;QADC,QAAQ;qDACa;IAGtB;QADC,QAAQ;qDACc;IAGvB;QADC,QAAQ;uDACgB;IAGzB;QADC,QAAQ;uDACgB;IAGzB;QADC,QAAQ;+DACwB;IAjBhB,eAAe;QADnC,OAAO;OACa,eAAe,CAwCnC;IAAD,sBAAC;CAxCD,AAwCC,CAxC4C,EAAE,CAAC,SAAS,GAwCxD;kBAxCoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class PlatformSpawner extends cc.Component {\n    @property(cc.Prefab)\n    platformPrefab: cc.Prefab = null;\n\n    @property\n    minWidth: number = 50;\n\n    @property\n    maxWidth: number = 200;\n\n    @property\n    minXOffset: number = 100;\n\n    @property\n    maxXOffset: number = 400;\n\n    @property\n    platformAppearTime: number = 0.5; // Время появления платформы снизу вверх\n\n    public spawnPlatform(previousPlatformPosition?: cc.Vec2): cc.Node {\n        const newPlatform = cc.instantiate(this.platformPrefab);\n        const platformWidth = this.minWidth + Math.random() * (this.maxWidth - this.minWidth);\n        newPlatform.width = platformWidth;\n\n        if (previousPlatformPosition) {\n            newPlatform.setPosition(cc.v2(previousPlatformPosition.x, -708)); // Появляется сразу\n        } else {\n            // Если позиция не передана, используем случайное значение\n             const newPositionX = -240 + Math.random() * (400 - (-240)); // Случайное значение в промежутке [-240, 400]\n            newPlatform.setPosition(cc.v2(newPositionX, -1080)); // Начальная позиция снизу экрана\n\n            // Анимация появления снизу вверх\n            cc.tween(newPlatform)\n                .to(this.platformAppearTime, { position: cc.v3(newPositionX, -708) }, { easing: 'cubicOut' })\n                .start();\n        }\n\n        this.node.addChild(newPlatform);\n        return newPlatform;\n    }\n}\n"]}