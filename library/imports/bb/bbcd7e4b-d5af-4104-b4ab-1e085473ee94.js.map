{"version":3,"sources":["assets\\Scripts\\PlatformSpawner.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA6C,mCAAY;IAAzD;QAAA,qEA0CC;QAzCoB,UAAI,GAAW,CAAC,IAAI,CAAC;QAGtC,oBAAc,GAAc,IAAI,CAAC;QAGjC,cAAQ,GAAW,EAAE,CAAC;QAGtB,cAAQ,GAAW,GAAG,CAAC;QAGvB,gBAAU,GAAW,GAAG,CAAC;QAGzB,gBAAU,GAAW,GAAG,CAAC;QAGzB,wBAAkB,GAAW,GAAG,CAAC;;IAuBrC,CAAC;IArBU,uCAAa,GAApB,UAAqB,wBAAkC;QACnD,IAAM,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAExD,IAAI,wBAAwB,EAAE;YAC1B,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,wBAAwB,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACzE;aAAM;YACH,IAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtF,WAAW,CAAC,KAAK,GAAG,aAAa,CAAC;YAEjC,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,8CAA8C;YAC7I,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,iCAAiC;YAE9F,iCAAiC;YACjC,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC;iBAChB,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC;iBACjG,KAAK,EAAE,CAAC;SAChB;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAChC,OAAO,WAAW,CAAC;IACvB,CAAC;IArCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;2DACa;IAGjC;QADC,QAAQ;qDACa;IAGtB;QADC,QAAQ;qDACc;IAGvB;QADC,QAAQ;uDACgB;IAGzB;QADC,QAAQ;uDACgB;IAGzB;QADC,QAAQ;+DACwB;IAnBhB,eAAe;QADnC,OAAO;OACa,eAAe,CA0CnC;IAAD,sBAAC;CA1CD,AA0CC,CA1C4C,EAAE,CAAC,SAAS,GA0CxD;kBA1CoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class PlatformSpawner extends cc.Component {\n    private readonly posY: number = -1100;\n\n    @property(cc.Prefab)\n    platformPrefab: cc.Prefab = null;\n\n    @property\n    minWidth: number = 50;\n\n    @property\n    maxWidth: number = 200;\n\n    @property\n    minXOffset: number = 100;\n\n    @property\n    maxXOffset: number = 400;\n\n    @property\n    platformAppearTime: number = 0.5;\n\n    public spawnPlatform(previousPlatformPosition?: cc.Vec2): cc.Node {\n        const newPlatform = cc.instantiate(this.platformPrefab);\n\n        if (previousPlatformPosition) {\n            newPlatform.setPosition(cc.v2(previousPlatformPosition.x, this.posY));\n        } else {\n            const platformWidth = this.minWidth + Math.random() * (this.maxWidth - this.minWidth);\n            newPlatform.width = platformWidth;\n\n             const newPositionX = this.minXOffset + Math.random() * (this.maxXOffset - (this.minXOffset)); // Случайное значение в промежутке [-240, 400]\n            newPlatform.setPosition(cc.v2(newPositionX, this.posY * 2)); // Начальная позиция снизу экрана\n\n            // Анимация появления снизу вверх\n            cc.tween(newPlatform)\n                .to(this.platformAppearTime, { position: cc.v3(newPositionX, this.posY) }, { easing: 'cubicOut' })\n                .start();\n        }\n\n        this.node.addChild(newPlatform);\n        return newPlatform;\n    }\n}\n"]}