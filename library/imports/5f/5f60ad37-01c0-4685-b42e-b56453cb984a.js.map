{"version":3,"sources":["assets\\Scripts\\CameraShake.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAyC,+BAAY;IAArD;QAAA,qEAkCC;QAjCqB,iBAAW,GAAW,YAAY,CAAC;QAG7C,mBAAa,GAAW,GAAG,CAAC;QAG5B,oBAAc,GAAW,EAAE,CAAC;QAG5B,YAAM,GAAW,CAAC,CAAC;;IAwB/B,CAAC;IAtBa,4BAAM,GAAhB;QACI,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAC1D,CAAC;IAES,+BAAS,GAAnB;QACI,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAC3D,CAAC;IAEO,2BAAK,GAAb;QACI,IAAM,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,gCAAgC;QAE7E,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;aACd,MAAM,CAAC,IAAI,CAAC,MAAM,EACf,EAAE,CAAC,KAAK,EAAE;aACL,EAAE,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC;aACvE,EAAE,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;aAC5E,EAAE,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;aAC3E,EAAE,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,CAChF;aACA,EAAE,CAAC,CAAC,EAAE,EAAE,QAAQ,EAAE,gBAAgB,EAAE,CAAC;aACrC,KAAK,EAAE,CAAC;IACjB,CAAC;IA7BD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;sDACiB;IAGpC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;uDACiB;IAGpC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACQ;IAVV,WAAW;QAD/B,OAAO;OACa,WAAW,CAkC/B;IAAD,kBAAC;CAlCD,AAkCC,CAlCwC,EAAE,CAAC,SAAS,GAkCpD;kBAlCoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class CameraShake extends cc.Component {\n    private readonly  PLAYER_FALL: string = 'playerFall';\n\n    @property(cc.Float)\n    private shakeDuration: number = 0.5;\n\n    @property(cc.Float)\n    private shakeMagnitude: number = 20;\n\n    @property(cc.Float)\n    private repeat: number = 2;\n\n    protected onLoad() {\n        cc.systemEvent.on(this.PLAYER_FALL, this.shake, this);\n    }\n\n    protected onDestroy() {\n        cc.systemEvent.off(this.PLAYER_FALL, this.shake, this);\n    }\n\n    private shake() {\n        const originalPosition = this.node.position; // Сохраняем изначальную позицию\n\n        cc.tween(this.node)\n            .repeat(this.repeat,\n                cc.tween()\n                    .by(this.shakeDuration / 4, { position: cc.v3(this.shakeMagnitude, 0) })\n                    .by(this.shakeDuration / 4, { position: cc.v3(-this.shakeMagnitude * 2, 0) })\n                    .by(this.shakeDuration / 4, { position: cc.v3(this.shakeMagnitude * 2, 0) })\n                    .by(this.shakeDuration / 4, { position: cc.v3(-this.shakeMagnitude, 0) })\n            )\n            .to(0, { position: originalPosition })\n            .start();\n    }\n}\n"]}